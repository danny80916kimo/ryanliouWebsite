<a href="{{ post.url | relative_url }}" class="card card-clickable" aria-label="Read article: {{ post.title }}">
  {% if post.header_image %}
  <div class="card-image">
    <img src="{{ post.header_image | relative_url }}" alt="{{ post.title }}" loading="lazy">
  </div>
  {% elsif post.header.image %}
  <div class="card-image">
    <img src="{{ post.header.image | relative_url }}" alt="{{ post.title }}" loading="lazy">
  </div>
  {% else %}
  {% assign title_size = post.title | size %}
  {% assign day = post.date | date: "%j" | plus: 0 %}
  {% assign seed = title_size | times: 7 | plus: day %}
  {% assign angle = seed | modulo: 360 %}
  {% assign x = seed | times: 13 | modulo: 100 %}
  {% assign y = seed | times: 37 | modulo: 100 %}
  <div class="card-image-placeholder"
       style="--angle: {{ angle }}deg; --x: {{ x }}%; --y: {{ y }}%;">
  </div>
  {% endif %}

  <div class="card-content">
    <div class="card-meta">
      <time datetime="{{ post.date | date_to_xmlschema }}">
        {{ post.date | date: "%Y年%m月%d日" }}
      </time>
      {% if post.categories %}
        <span class="card-category">{{ post.categories | first }}</span>
      {% endif %}
    </div>

    <h3 class="card-title">
      {{ post.title }}
    </h3>

    {% if post.excerpt %}
    <p class="card-excerpt">
      {{ post.excerpt | strip_html | truncate: 150 }}
    </p>
    {% endif %}

    {% if post.tags %}
    <div class="card-tags">
      {% for tag in post.tags limit:3 %}
        <span class="tag">{{ tag }}</span>
      {% endfor %}
    </div>
    {% endif %}
  </div>
</a>
