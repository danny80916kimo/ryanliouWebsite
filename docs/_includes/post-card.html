{%- comment -%}
  Updated 2026-02-14: Reordered layout for better visual hierarchy
  New order: Time → Title → Thumbnail → Excerpt → Tags
{%- endcomment -%}

<a href="{{ post.url | relative_url }}" class="card card-clickable" aria-label="Read article: {{ post.title }}">
  <!-- 1. Time at top -->
  <div class="card-meta">
    <time datetime="{{ post.date | date_to_xmlschema }}">
      {{ post.date | date: "%Y年%m月%d日" }}
    </time>
  </div>

  <!-- 2. Title -->
  <h3 class="card-title">{{ post.title }}</h3>

  <!-- 3. Thumbnail (if exists) -->
  {% if post.header_image %}
    <div class="card-image">
      <img src="{{ post.header_image | relative_url }}"
           alt="{{ post.header_image_alt | default: post.title }}"
           loading="lazy">
    </div>
  {% elsif post.header.image %}
    <div class="card-image">
      <img src="{{ post.header.image | relative_url }}"
           alt="{{ post.header_image_alt | default: post.title }}"
           loading="lazy">
    </div>
  {% endif %}

  <!-- 4. Intelligent excerpt -->
  <p class="card-excerpt">
    {% if post.description %}
      {{ post.description }}
    {% else %}
      {{ post.content | strip_html | truncate: 150, "..." }}
    {% endif %}
  </p>

  <!-- 5. Tags at bottom -->
  {% if post.tags %}
    <div class="card-tags">
      {% for tag in post.tags limit:3 %}
        <span class="tag">{{ tag }}</span>
      {% endfor %}
    </div>
  {% endif %}
</a>
